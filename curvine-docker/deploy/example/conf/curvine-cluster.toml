
format_master = false
format_worker = false
cluster_id = "curvine"

[master]
rpc_port = 8995
web_port = 9000
meta_dir = "./data/meta"
audit_logging_enabled = true
log = { level = "info", log_dir = "./logs", file_name = "master.log" }

[journal]
rpc_port = 8996
journal_addrs = [
    {id = 1, hostname = "cv-master-0.svc.cluster.local", port = 8996},
    {id = 2, hostname = "cv-master-1.svc.cluster.local", port = 8996},
    {id = 3, hostname = "cv-master-2.svc.cluster.local", port = 8996}
]
journal_dir = "./data/journal"

[worker]
rpc_port = 8997
web_port = 9000
dir_reserved = "10GB"
data_dir = [
    "[SSD]/data/data1",
]
log = { level = "info", log_dir = "./logs", file_name = "worker.log" }


[client]
master_addrs = [
    { hostname = "cv-master-0.svc.cluster.local", port = 8995 },
    { hostname = "cv-master-1.svc.cluster.local", port = 8995 },
    { hostname = "cv-master-2.svc.cluster.local", port = 8995 }
]

# RPC timeout optimization for fast master failover
# RPC timeout: 120s → 10s (Raft election takes 10-15s)
rpc_timeout_ms = 10000

# Total retry duration: 300s → 40s (10s × 3 nodes + retry intervals)
rpc_retry_max_duration_ms = 40000

# Minimum retry sleep: 300ms → 100ms (faster retry)
rpc_retry_min_sleep_ms = 100

# Maximum retry sleep: 30s → 2s (avoid long wait)
rpc_retry_max_sleep_ms = 2000

[fuse]
debug = false


[log]
level = "info"
log_dir = "./logs"
file_name = "client.log"
